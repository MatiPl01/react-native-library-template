# üìö React Native Library Template

This repository is an optimized React Native library boilerplate, designed to boost your library development process.üßë‚Äçüíªüîß It's tailored for both bare React Native applications and Expo-created ones. This boilerplate is equipped with valuable tools, simplifying library development and ensuring high-quality code.

## üåü Features

- Enforces code style with eslint, prettier, and TypeScript,
- Precommit hooks checking code style and type issues,
- GitHub Actions to aid in your development process,
- Automated library deployments to npm and hassle-free versioning thanks to [_semantic-release_](https://github.com/semantic-release/semantic-release),
- Provides an example app for both bare React Native projects and Expo-managed ones,
- `jest` setup is also available with example tests

## üìã Requirements

Node 18 or greater is required. Development for iOS needs a Mac and Xcode.

## üöÄ Quick Start

To create a fresh project, just run:

```sh
npx rnlibrary
```

Before starting development, install all necessary dependencies with `yarn`:

```sh
yarn
```

**For iOS only**: Install required Pods for the bare React Native example app:

```sh
yarn example:bare pod
```

## üí´ GitHub Actions

To use the GitHub Actions bundled with this boilerplate, you'll need to provide 2 secrets (refer to [this](https://docs.github.com/en/actions/security-guides/using-secrets-in-github-actions) page for more about secrets):

- `GH_TOKEN` - a GitHub token with `repo` permissions (check [docs](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens) for more on GitHub access tokens).
- `NPM_TOKEN` - an npm token employed by [_semantic-release_](https://github.com/semantic-release/semantic-release) for automatic library deployment (see [docs](https://docs.npmjs.com/about-access-tokens) for info on npm access tokens).

Alternatively, remove workflows from the `.github` directory if you prefer not to use GitHub Actions.

## üõ†Ô∏è Library Development

### üèóÔ∏è Project Structure

The project can be categorized into 2 subprojects:

- Library Source Code
- Example App

### üõ†Ô∏è Library Scope

The root directory of the project houses several configuration files for tools like prettier, eslint, and TypeScript. It also contains the config of the [_semantic-release_](https://github.com/semantic-release/semantic-release) library and the [_react-native-builder-bob_](https://github.com/callstack/react-native-builder-bob) config for convenient npm deployments and proper versioning.

#### Library Source Files

By default, the resulting library will include files specified under the `files` key in the `package.json`:

- `src` directory - where you write all library source code,
- `dist` directory - generated by **react-native-builder-bob** during the build process,
- `LICENSE` - you should include your `LICENSE` file because it's not provided by default,
- `CHANGELOG.md` - a file containing all version history with included changes, automatically generated by the **semantic-release** library

#### Library Dependencies

If you want to add dependency that will be used by your library, you should add it in the project root. I decided to use the `yarn` package manager as it is one of the most commonly used package managers which has good support for monorepos with workspaces (the example app). All dependencies should be installed with `yarn`.

### üì± Example App

This template also includes an example app that is handy for testing features implemented in the library and showcasing them to your users. The example app is not part of the library source files deployed to npm.

The example app resides in the `example` directory. Inside, you'll find three subdirectories:

- `app` - Where the example app source code is located.
- `bare` - A bare example of a React Native app.
- `expo` - An example of a React Native Expo app.

If you don't need to support **Expo** or a **bare** React Native apps, you can just remove the corresponding directory.

#### Example App Dependencies

Install all example app dependencies in the `example/app` directory. Similarly to the library, use `yarn` package manager to handle your example app dependencies.

#### Useful Commands

For launching the bare React Native example app:

```sh
yarn example:bare start|android|ios|pod
```

For the Expo React Native app:

```sh
yarn example:expo start|android|ios
```

- `start` - starts metro client
- `android` - starts example app on the Android emulator/device,
- `ios` - starts example app on the iOS simulator/device,
- `pod` - installs Pods required by example app native iOS dependencies.

### üîÑ Automatic deployments

The `release.yaml` workflow included in the project contains the auto deployment logic. By default, the deployment will be caused on the **workflow dispatch** action (manually from the GitHub Actions page). You can change this behavior by modifying the workflow triggers.
